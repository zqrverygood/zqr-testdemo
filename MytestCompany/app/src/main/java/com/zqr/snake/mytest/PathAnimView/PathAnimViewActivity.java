package com.zqr.snake.mytest.PathAnimView;

import android.graphics.Path;
import android.net.ParseException;
import android.os.Bundle;
import android.support.design.widget.FloatingActionButton;
import android.support.design.widget.Snackbar;
import android.support.v7.app.AppCompatActivity;
import android.support.v7.widget.Toolbar;
import android.util.Log;
import android.view.View;

import com.zqr.snake.mytest.R;

public class PathAnimViewActivity extends AppCompatActivity {
    PathAnimView storeView3;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_path_anim_view);

        storeView3 = (PathAnimView) findViewById(R.id.storeView3);

        //SVG转-》path
        //还在完善中，我从github上找了如下工具类，发现简单的SVG可以转path，复杂点的 就乱了
        SvgPathParser svgPathParser = new SvgPathParser();



        String testGIMP2 = "\"M 90.00,11.00\n" +
                "           C 90.00,11.00 119.00,11.00 119.00,11.00\n" +
                "             121.18,11.00 124.85,10.79 126.69,12.02\n" +
                "             129.62,13.98 129.43,18.71 125.85,20.83\n" +
                "             123.52,22.21 119.67,22.00 117.00,22.00\n" +
                "             117.00,22.00 83.00,22.00 83.00,22.00\n" +
                "             79.27,21.99 73.44,22.62 72.33,17.89\n" +
                "             71.68,15.12 72.58,13.88 74.31,12.02" +
                "             78.99,10.24 84.99,11.00 90.00,11.00 Z";


        String tempVector = "M928.2,828.4L130,828.4c-32.8,0 -59.1,-26.3 -59.1,-59.1L70.9,190.4c0,-32.8 26.3,-59.1 59.1,-59.1h798.2c32.8,0 59.1,26.3 59.1,59.1v579c0,32.8 -26.3,59.1 -59.1,59.1zM136.5,762.7h785.1L921.6,196.9L136.5,196.9v565.8z";
        String mmm = "M 15.73 0.00 L 16.49 0.00 C 25.03 0.10 32.40 7.22 33.00 15.70 L 33.00 16.45 C\n" +
                "32.92 25.01 25.79 32.41 17.30 33.00 L 16.50 33.00 C 7.96 32.89 0.60 25.78 0.00\n" +
                "17.30 L 0.00 16.54 C 0.09 7.98 7.23 0.58 15.73 0.00 M 12.26 2.31 C 4.94 4.36\n" +
                "0.13 12.64 2.15 20.01 C 3.74 27.39 11.62 32.55 19.03 31.07 C 27.15 29.93 32.96\n" +
                "21.13 30.90 13.21 C 29.28 5.09 20.15 -0.25 12.26 2.31 Z" +
                "M 10.63 9.46 C 10.88 9.19 11.37 8.67 11.61 8.41 C 13.23 10.10 14.85 11.78 16.51\n" +
                "13.42 C 18.15 11.71 19.81 10.04 21.45 8.33 C 21.66 8.65 22.07 9.28 22.27 9.60 C\n" +
                "20.54 11.35 18.90 13.18 17.31 15.06 C 19.15 15.10 20.98 15.14 22.82 15.17 C\n" +
                "22.81 15.56 22.77 16.33 22.75 16.72 C 20.94 16.73 19.13 16.74 17.33 16.75 C\n" +
                "17.29 17.29 17.21 18.39 17.17 18.93 C 19.16 18.96 21.15 19.00 23.14 19.09 C\n" +
                "22.70 21.65 19.15 20.10 17.30 20.53 C 17.26 22.02 17.21 23.52 17.18 25.01 L\n" +
                "15.82 25.03 C 15.79 23.53 15.74 22.03 15.70 20.53 C 13.90 20.09 10.13 21.68 9.94\n" +
                "19.05 C 11.91 19.00 13.87 18.97 15.83 18.93 C 15.79 18.39 15.71 17.29 15.67\n" +
                "16.75 C 13.86 16.74 12.05 16.73 10.23 16.71 C 10.23 16.32 10.21 15.54 10.20\n" +
                "15.15 C 12.04 15.13 13.87 15.11 15.70 15.07 C 14.04 13.18 12.36 11.29 10.63 9.46\n" +
                "Z"+
                "M 15.73 0.00 L 16.49 0.00 C 25.03 0.10 32.40 7.22 33.00 15.70 L 33.00 16.45 C\n" +
                "32.92 25.01 25.79 32.41 17.30 33.00 L 16.50 33.00 C 7.96 32.89 0.60 25.78 0.00\n" +
                "17.30 L 0.00 16.54 C 0.09 7.98 7.23 0.58 15.73 0.00 M 12.26 2.31 C 4.94 4.36\n" +
                "0.13 12.64 2.15 20.01 C 3.74 27.39 11.62 32.55 19.03 31.07 C 27.15 29.93 32.96\n" +
                "21.13 30.90 13.21 C 29.28 5.09 20.15 -0.25 12.26 2.31 ZM 10.63 9.46 C 10.88 9.19 11.37 8.67 11.61 8.41 C 13.23 10.10 14.85 11.78 16.51\n" +
                "13.42 C 18.15 11.71 19.81 10.04 21.45 8.33 C 21.66 8.65 22.07 9.28 22.27 9.60 C\n" +
                "20.54 11.35 18.90 13.18 17.31 15.06 C 19.15 15.10 20.98 15.14 22.82 15.17 C\n" +
                "22.81 15.56 22.77 16.33 22.75 16.72 C 20.94 16.73 19.13 16.74 17.33 16.75 C\n" +
                "17.29 17.29 17.21 18.39 17.17 18.93 C 19.16 18.96 21.15 19.00 23.14 19.09 C\n" +
                "22.70 21.65 19.15 20.10 17.30 20.53 C 17.26 22.02 17.21 23.52 17.18 25.01 L\n" +
                "15.82 25.03 C 15.79 23.53 15.74 22.03 15.70 20.53 C 13.90 20.09 10.13 21.68 9.94\n" +
                "19.05 C 11.91 19.00 13.87 18.97 15.83 18.93 C 15.79 18.39 15.71 17.29 15.67\n" +
                "16.75 C 13.86 16.74 12.05 16.73 10.23 16.71 C 10.23 16.32 10.21 15.54 10.20\n" +
                "15.15 C 12.04 15.13 13.87 15.11 15.70 15.07 C 14.04 13.18 12.36 11.29 10.63 9.46\n" +
                "Z";
        String ggg = "M 55.56 0.00 L 58.09 0.00 C 61.27 1.91 63.88 4.63 66.00 7.66 L 66.00 9.71 C\n" +
                "65.36 11.09 64.47 12.35 63.37 13.41 C 55.94 20.64 48.59 27.95 41.19 35.21 C\n" +
                "38.66 37.67 36.34 40.55 33.02 41.98 C 28.10 44.20 23.04 46.09 17.99 47.99 C\n" +
                "20.32 41.76 21.64 34.96 25.31 29.34 C 32.05 22.41 39.08 15.76 45.92 8.93 C 49.12\n" +
                "5.94 51.93 2.51 55.56 0.00 M 54.08 5.06 C 45.88 13.20 37.65 21.32 29.38 29.38 C\n" +
                "25.41 32.82 24.74 38.36 22.80 42.96 C 27.30 40.87 32.61 39.89 36.08 36.09 C\n" +
                "45.09 26.98 54.46 18.23 63.34 8.99 C 61.40 6.80 59.59 4.20 56.91 2.91 C 55.75\n" +
                "3.30 54.96 4.28 54.08 5.06 Z"+"" +
                "M 0.00 9.93 C 0.81 7.88 2.50 5.93 4.91 6.06 C 15.39 5.93 25.87 5.98 36.35 6.07 C\n" +
                "36.24 6.75 36.03 8.09 35.93 8.77 C 25.64 9.40 15.29 8.71 4.98 9.08 C 3.42 8.92\n" +
                "2.84 10.66 3.02 11.92 C 2.98 27.97 2.99 44.02 3.01 60.07 C 2.87 61.29 3.39 63.11\n" +
                "4.95 62.92 C 20.62 63.13 36.30 62.90 51.98 63.03 C 53.59 62.84 55.70 63.48 56.82\n" +
                "61.94 C 57.45 52.40 56.49 42.78 57.27 33.25 C 58.67 32.05 60.18 33.21 59.96\n" +
                "34.90 C 60.02 43.63 60.07 52.37 59.94 61.10 C 60.09 63.44 58.18 65.02 56.32\n" +
                "66.00 L 3.37 66.00 C 2.36 64.79 1.23 63.69 0.00 62.71 L 0.00 9.93 Z"+"" +
                "M 54.08 5.06 C 54.96 4.28 55.75 3.30 56.91 2.91 C 59.59 4.20 61.40 6.80 63.34\n" +
                "8.99 C 54.46 18.23 45.09 26.98 36.08 36.09 C 32.61 39.89 27.30 40.87 22.80 42.96\n" +
                "C 24.74 38.36 25.41 32.82 29.38 29.38 C 37.65 21.32 45.88 13.20 54.08 5.06 Z"+"" +
                "M 55.56 0.00 L 58.09 0.00 C 61.27 1.91 63.88 4.63 66.00 7.66 L 66.00 9.71 C\n" +
                "65.36 11.09 64.47 12.35 63.37 13.41 C 55.94 20.64 48.59 27.95 41.19 35.21 C\n" +
                "38.66 37.67 36.34 40.55 33.02 41.98 C 28.10 44.20 23.04 46.09 17.99 47.99 C\n" +
                "20.32 41.76 21.64 34.96 25.31 29.34 C 32.05 22.41 39.08 15.76 45.92 8.93 C 49.12\n" +
                "5.94 51.93 2.51 55.56 0.00 M 54.08 5.06 C 45.88 13.20 37.65 21.32 29.38 29.38 C\n" +
                "25.41 32.82 24.74 38.36 22.80 42.96 C 27.30 40.87 32.61 39.89 36.08 36.09 C\n" +
                "45.09 26.98 54.46 18.23 63.34 8.99 C 61.40 6.80 59.59 4.20 56.91 2.91 C 55.75\n" +
                "3.30 54.96 4.28 54.08 5.06 ZM 0.00 9.93 C 0.81 7.88 2.50 5.93 4.91 6.06 C 15.39 5.93 25.87 5.98 36.35 6.07 C\n" +
                "36.24 6.75 36.03 8.09 35.93 8.77 C 25.64 9.40 15.29 8.71 4.98 9.08 C 3.42 8.92\n" +
                "2.84 10.66 3.02 11.92 C 2.98 27.97 2.99 44.02 3.01 60.07 C 2.87 61.29 3.39 63.11\n" +
                "4.95 62.92 C 20.62 63.13 36.30 62.90 51.98 63.03 C 53.59 62.84 55.70 63.48 56.82\n" +
                "61.94 C 57.45 52.40 56.49 42.78 57.27 33.25 C 58.67 32.05 60.18 33.21 59.96\n" +
                "34.90 C 60.02 43.63 60.07 52.37 59.94 61.10 C 60.09 63.44 58.18 65.02 56.32\n" +
                "66.00 L 3.37 66.00 C 2.36 64.79 1.23 63.69 0.00 62.71 L 0.00 9.93 ZM 54.08 5.06 C 54.96 4.28 55.75 3.30 56.91 2.91 C 59.59 4.20 61.40 6.80 63.34\n" +
                "8.99 C 54.46 18.23 45.09 26.98 36.08 36.09 C 32.61 39.89 27.30 40.87 22.80 42.96\n" +
                "C 24.74 38.36 25.41 32.82 29.38 29.38 C 37.65 21.32 45.88 13.20 54.08 5.06 Z";


        try {
            Path path = svgPathParser.parsePath(ggg);
            storeView3.setSourcePath(path);
        } catch (ParseException e) {
            e.printStackTrace();
        } catch (java.text.ParseException e) {
            e.printStackTrace();
        }

        storeView3.getPathAnimHelper().setAnimTime(5000);
        storeView3.getPathAnimHelper().setInfinite(true);//是否一直循环
        storeView3.startAnim();
    }

}
